openapi: 3.0.3
info:
  title: Volunteer & Donor Management API
  version: 1.0.0
  description: API contract for Volunteers, Donors, Staff, Finance, and Admin operations.

servers:
  - url: http://localhost:3000/

paths:
  # Volunteer APIs (Sample APIs - Update accordingly)
  /volunteers:
    post:
      summary: Create Volunteer Profile
      tags: [Volunteer]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '201':
          description: Volunteer profile successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
    patch:
      summary: Update Volunteer Profile
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '200':
          description: Volunteer profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /volunteers/{id}/documents:
    post:
      summary: Submit Volunteer Document
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VolunteerDocument'
      responses:
        '201':
          description: Document submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VolunteerDocumentResponse'

  /volunteers/{id}/registration:
    post:
      summary: Submit Volunteer Registration Form
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '201':
          description: Registration successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /projects/{project_id}/rsvp:
    post:
      summary: RSVP for Project
      tags: [Volunteer]
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RSVP'
      responses:
        '201':
          description: RSVP submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  # Donor APIs (Sample APIs - Update accordingly)
  /donors:
    get:
      summary: Query Donor Information
      tags: [Donor]
      parameters:
        - name: search
          in: query
          description: Search term for donor name, email, or other fields
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Donor data retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Donor'
    post:
      summary: Create Donor Profile
      tags: [Donor]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donor'
      responses:
        '201':
          description: Donor profile created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
    patch:
      summary: Update Donor Profile
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donor'
      responses:
        '200':
          description: Donor profile updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/payment-options:
    post:
      summary: Save One-Click Payment Option
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                payment_method:
                  type: string
      responses:
        '201':
          description: Payment option saved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/wishlist:
    post:
      summary: Request More Donation Modes
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                mode:
                  type: string
      responses:
        '201':
          description: Wishlist submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donations:
    post:
      summary: Make Donation
      tags: [Donor]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donation'
      responses:
        '201':
          description: Donation recorded
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationResponse'

  /donations/{id}/send-receipt:
    post:
      summary: Send Receipt Email
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Receipt sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donations/{id}/send-thank-you:
    post:
      summary: Send Thank-You Email
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Thank-you email sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/reminders:
    post:
      summary: Send Reminder
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Reminder sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  # Finance APIs
  /finance/budgets:
    get:
      summary: Get Financial Overview
      tags: [Finance]
      description: Retrieve financial overview with fiscal year, committed, and disbursed amounts
      responses:
        '200':
          description: Financial overview retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FinancialOverview'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/budgets:
    get:
      summary: Get Project Budget Summaries
      tags: [Finance]
      description: Retrieve budget summaries for a specific project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Budget summaries retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudgetSummaries'
        '404':
          description: Budget data not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/transactions:
    get:
      summary: Get Project Transactions
      tags: [Finance]
      description: Retrieve all transactions for a specific project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Transactions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
        '404':
          description: Transaction data not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/commitment:
    post:
      summary: Create Commitment
      tags: [Finance]
      description: Create a new financial commitment for a project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCommitment'
      responses:
        '201':
          description: Commitment created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    $ref: '#/components/schemas/Commitment'
                  message:
                    type: string
                    example: Commitment created successfully
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/commitment/{id}:
    patch:
      summary: Update Commitment Status
      tags: [Finance]
      description: Update the status of an existing commitment
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Commitment ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
      responses:
        '204':
          description: Commitment status updated successfully
        '404':
          description: Commitment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      summary: Delete Commitment
      tags: [Finance]
      description: Delete an existing commitment
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Commitment ID
      responses:
        '204':
          description: Commitment deleted successfully
        '404':
          description: Commitment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/disbursement:
    post:
      summary: Create Disbursement
      tags: [Finance]
      description: Create a new financial disbursement for a project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDisbursement'
      responses:
        '201':
          description: Disbursement created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    $ref: '#/components/schemas/Disbursement'
                  message:
                    type: string
                    example: Disbursement created successfully
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/disbursement/{id}:
    patch:
      summary: Update Disbursement Status
      tags: [Finance]
      description: Update the status of an existing disbursement
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Disbursement ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
      responses:
        '204':
          description: Disbursement status updated successfully
        '404':
          description: Disbursement not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      summary: Delete Disbursement
      tags: [Finance]
      description: Delete an existing disbursement
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Disbursement ID
      responses:
        '204':
          description: Disbursement deleted successfully
        '404':
          description: Disbursement not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # Project APIs
  /projects:
    get:
      summary: Get all projects with optional filtering
      tags: [Project]
      description: Retrieve all projects with optional filtering by status, search, hasVolunteering, and hasDonations
      parameters:
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [DRAFT, PENDING, APPROVED, REJECTED, FINISHED]
          description: Filter by project status
        - name: search
          in: query
          required: false
          schema:
            type: string
          description: Search term for project title or description
        - name: hasVolunteering
          in: query
          required: false
          schema:
            type: boolean
          description: Filter by whether project has volunteering opportunities
        - name: hasDonations
          in: query
          required: false
          schema:
            type: boolean
          description: Filter by whether project accepts donations
      responses:
        '200':
          description: Projects retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Project'
                  count:
                    type: integer
                    example: 10
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      summary: Create a new project
      tags: [Project]
      description: Create a new project with required fields (title, description, startDate)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProject'
      responses:
        '201':
          description: Project created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: Project created successfully
                  data:
                    $ref: '#/components/schemas/Project'
        '400':
          description: Invalid request - missing required fields
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /projects/{id}:
    get:
      summary: Get a single project by ID
      tags: [Project]
      description: Retrieve a single project by ID with all related data
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Project retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    $ref: '#/components/schemas/ProjectDetail'
        '404':
          description: Project not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    patch:
      summary: Update a project
      tags: [Project]
      description: Update an existing project. All fields are optional.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProject'
      responses:
        '200':
          description: Project updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: Project updated successfully
                  data:
                    $ref: '#/components/schemas/Project'
        '404':
          description: Project not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      summary: Delete a project
      tags: [Project]
      description: Delete an existing project. Cannot delete if project has associated records.
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Project deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: Project deleted successfully
        '400':
          description: Cannot delete project due to associated records
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Project not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # Volunteer Manager APIs (Sample APIs - Update accordingly)
  /volunteers/pending:
    get:
      summary: View Pending Volunteers
      tags: [VolunteerManager]
      responses:
        '200':
          description: Pending volunteers list

  /volunteers/{id}/approve:
    patch:
      summary: Approve Volunteer
      tags: [VolunteerManager]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Volunteer approved

  # Super Admin APIs (Sample APIs - Update accordingly)
  /admin/users:
    post:
      summary: Create Admin User
      tags: [SuperAdmin]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '201':
          description: Admin user created

  /admin/users/{id}:
    delete:
      summary: Delete Admin User
      tags: [SuperAdmin]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Admin user deleted

  /admin/logs:
    get:
      summary: Get Admin Logs
      tags: [SuperAdmin]
      responses:
        '200':
          description: Logs retrieved

# Components (Schemas) (Sample - Update accordingly)
components:
  schemas:
    Volunteer:
      type: object
      properties:
        id: { type: string }
        full_name: { type: string }
        nric_fin: { type: string }
        passport_number: { type: string }
        contact_number: { type: string }
        occupation: { type: string }
        languages_spoken:
          type: array
          items: { type: string }
        highest_education: { type: string }
        volunteering_duration:
          { type: string, enum: [ad_hoc, long_term, short_term] }
        email: { type: string }
        address: { type: string }
        nationality: { type: string }
        gender: { type: string, enum: [male, female, other] }
        dob: { type: string, format: date }
        volunteer_interest:
          type: array
          items: { type: string }
        volunteer_expertise:
          type: object
          properties:
            is_first_time: { type: boolean }
            past_experience:
              type: array
              items: { type: string, enum: [elderly, family, children, pwids] }
            years: { type: integer, minimum: 0, maximum: 50 }
            strengths:
              type: array
              items: { type: string }
            weaknesses:
              type: array
              items: { type: string }
        availability:
          type: object
          properties:
            days:
              type: array
              items:
                {
                  type: string,
                  enum:
                    [
                      monday,
                      tuesday,
                      wednesday,
                      thursday,
                      friday,
                      saturday,
                      sunday,
                    ],
                }
            timings:
              type: array
              items: { type: string }
            specific_dates:
              type: array
              items: { type: string, format: date }
        lifetime_hours_volunteered: { type: integer }
        projects_of_interest:
          type: array
          items: { type: string }

    Donor:
      type: object
      properties:
        id: { type: string }
        full_name: { type: string }
        nric_fin: { type: string }
        email: { type: string }
        contact_number: { type: string }
        address: { type: string }
        donation_amount: { type: number }
        preferred_cause: { type: string }
        donation_type: { type: string, enum: [one_time, recurring] }
        payment_method: { type: string }
        is_tax_deductable: { type: boolean }

    VolunteerDocument:
      type: object
      properties:
        id: { type: string }
        document_type: { type: string }
        file_url: { type: string }

    VolunteerDocumentResponse:
      type: object
      properties:
        id: { type: string }
        status: { type: string, enum: [pending, approved, rejected] }

    RSVP:
      type: object
      properties:
        volunteer_id: { type: string }
        status: { type: string, enum: [yes, no, maybe] }

    Donation:
      type: object
      properties:
        donor_id: { type: string }
        amount: { type: number }
        type:
          { type: string, enum: [individual, corporate, fundraising events] }
        payment_method: { type: string }
        project_id: { type: string }
        date: { type: string }

    DonationResponse:
      type: object
      properties:
        id: { type: string }
        status: { type: string, enum: [confirmed, pending, failed] }
        receipt_url: { type: string }

    Attendance:
      type: object
      properties:
        volunteer_id: { type: string }
        project_id: { type: string }
        status: { type: string, enum: [present, absent] }
        date: { type: string, format: date }

    SuccessResponse:
      type: object
      properties:
        id: { type: string }
        message: { type: string }

    ErrorResponse:
      type: object
      properties:
        status:
          type: string
          example: error
        message: 
          type: string
        errors:
          type: object
          description: Additional error details (for validation errors)

    Project:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        timePeriod:
          type: string
          nullable: true
        isRecurring:
          type: boolean
          default: false
        frequency:
          type: string
          nullable: true
        startDate:
          type: string
          format: date-time
        nextDate:
          type: string
          format: date-time
          nullable: true
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVED, REJECTED, FINISHED]
        targetFund:
          type: number
          format: double
          nullable: true
        hasVolunteering:
          type: boolean
          default: false
        hasDonations:
          type: boolean
          default: false
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    ProjectDetail:
      allOf:
        - $ref: '#/components/schemas/Project'
        - type: object
          properties:
            sessions:
              type: array
              items:
                type: object
            volunteerProjects:
              type: array
              items:
                type: object
            disbursements:
              type: array
              items:
                type: object
            feedbacks:
              type: array
              items:
                type: object
            RecurringDonation:
              type: array
              items:
                type: object
            DonationTransaction:
              type: array
              items:
                type: object

    CreateProject:
      type: object
      required:
        - title
        - description
        - startDate
      properties:
        title:
          type: string
          example: 'Community Outreach Program'
        description:
          type: string
          example: 'A program to support local community needs'
        targetFund:
          type: number
          format: double
          nullable: true
          example: 50000.00
        timePeriod:
          type: string
          nullable: true
          example: 'Q1 2025'
        isRecurring:
          type: boolean
          default: false
        frequency:
          type: string
          nullable: true
          example: 'MONTHLY'
        startDate:
          type: string
          format: date-time
          example: '2025-01-01T00:00:00Z'
        nextDate:
          type: string
          format: date-time
          nullable: true
          example: '2025-02-01T00:00:00Z'
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVED, REJECTED, FINISHED]
          default: DRAFT
        hasVolunteering:
          type: boolean
          default: false
        hasDonations:
          type: boolean
          default: false

    UpdateProject:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
        targetFund:
          type: number
          format: double
          nullable: true
        timePeriod:
          type: string
          nullable: true
        isRecurring:
          type: boolean
        frequency:
          type: string
          nullable: true
        startDate:
          type: string
          format: date-time
        nextDate:
          type: string
          format: date-time
          nullable: true
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVED, REJECTED, FINISHED]
        hasVolunteering:
          type: boolean
        hasDonations:
          type: boolean

    FinancialOverview:
      type: object
      properties:
        fiscalYear:
          type: integer
          example: 2025
        committed:
          type: number
          format: double
          example: 150000.00
        disbursed:
          type: number
          format: double
          example: 75000.00

    BudgetSummaries:
      type: object
      properties:
        projectId:
          type: string
          format: uuid
        fiscalYear:
          type: integer
        totalCommitted:
          type: number
          format: double
        totalDisbursed:
          type: number
          format: double

    Transaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        type:
          type: string
          enum: [COMMITMENT, DISBURSEMENT]
        createdAt:
          type: string
          format: date-time
        createdById:
          type: string
          format: uuid

    CreateCommitment:
      type: object
      required:
        - amount
        - fiscalYear
        - status
        - createdById
      properties:
        amount:
          type: number
          format: double
          minimum: 0.01
          example: 50000.00
        description:
          type: string
          example: 'Q1 budget allocation for community outreach'
        fiscalYear:
          type: integer
          minimum: 1900
          example: 2025
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
          example: DRAFT
        createdById:
          type: string
          format: uuid
          example: '123e4567-e89b-12d3-a456-426614174000'
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time

    Commitment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        createdById:
          type: string
          format: uuid
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    CreateDisbursement:
      type: object
      required:
        - amount
        - fiscalYear
        - status
        - createdById
      properties:
        amount:
          type: number
          format: double
          minimum: 0.01
          example: 25000.00
        description:
          type: string
          example: 'Payment for facility rental'
        fiscalYear:
          type: integer
          minimum: 1900
          example: 2025
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
          example: DRAFT
        createdById:
          type: string
          format: uuid
          example: '123e4567-e89b-12d3-a456-426614174000'
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        disbursedAt:
          type: string
          format: date-time

    Disbursement:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        createdById:
          type: string
          format: uuid
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        disbursedAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
